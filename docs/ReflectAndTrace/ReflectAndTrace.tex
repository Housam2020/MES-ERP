\documentclass{article}

\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{hyperref}

\title{Reflection and Traceability Report on \progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle

\plt{Reflection is an important component of getting the full benefits from a
learning experience.  Besides the intrinsic benefits of reflection, this
document will be used to help the TAs grade how well your team responded to
feedback.  Therefore, traceability between Revision 0 and Revision 1 is and
important part of the reflection exercise.  In addition, several CEAB (Canadian
Engineering Accreditation Board) Learning Outcomes (LOs) will be assessed based
on your reflections.}

\section{Changes in Response to Feedback}

\subsection{Changes in Response to Usability Testing}
The results concluded from the usability testing were thoroughly analyzed and taken into consideration when adding new changes to the final product. Various points of improvement were taken note of as well as numerous key changes to be made. These results can be seen in the \href{docs/UsabilityTesting/UsabilityTesting.pdf}{Usability Testing document}.
\subsection{SRS and Hazard Analysis}

\subsubsection{Changes Made to the SRS}


\subsubsection{Changes Made to the Hazard Analysis}

The document has been thoroughly revised to address feedback from a rubric. Here are the key changes:

\subsubsection{Document Structure Improvements}
\begin{itemize}
  \item Added Table of Contents, List of Tables, and List of Figures
  \item Improved document organization with appropriate page breaks
  \item Updated revision history table with current changes
  \item Added proper labels to Safety/Security Requirements (SSR-1, SSR-2, SSR-3)
\end{itemize}

\subsubsection{Content Enhancements}
\begin{enumerate}
  \item \textbf{Introduction \& Scope}:
  \begin{itemize}
    \item Refined hazard definitions specifically for MES-ERP financial operations
    \item Expanded scope to clearly include all system components (frontend, backend, database, auth)
    \item Added clearer document roadmap
  \end{itemize}

  \item \textbf{System Boundaries \& Components}:
  \begin{itemize}
    \item Added technology specifics (Supabase/PostgreSQL, Next.js/React)
    \item Enhanced hazard descriptions with concrete examples
    \item Added new hazards (race conditions, XSS vulnerabilities, session hijacking)
  \end{itemize}

  \item \textbf{Critical Assumptions}:
  \begin{itemize}
    \item Clarified existing assumptions
    \item Added a fifth assumption about security of underlying infrastructure
  \end{itemize}

  \item \textbf{FMEA Implementation}:
  \begin{itemize}
    \item Created a complete FMEA table with severity, occurrence, and detection ratings
    \item Calculated Risk Priority Numbers (RPN)
    \item Added specific mitigation strategies for each failure mode
    \item Cross-referenced Safety/Security Requirements
  \end{itemize}

  \item \textbf{Safety Requirements}:
  \begin{itemize}
    \item Added formal labels and improved descriptions
    \item Enhanced rationales for implementation
  \end{itemize}

  \item \textbf{Roadmap}:
  \begin{itemize}
    \item Improved immediate implementation items with technical specifics
    \item Added cross-references to SSRs
    \item Added new future implementation item (Security Penetration Testing)
  \end{itemize}
\end{enumerate}

\vspace{1em}
The revisions make the document more precise, technically detailed, and better aligned with software engineering best practices for hazard analysis.


All changes were made to address the rubric feedback, with special attention to improving the technical specificity of hazard descriptions, creating a proper FMEA analysis, and ensuring consistent cross-referencing between identified hazards and safety requirements. The revisions significantly enhanced the document's precision and alignment with software engineering best practices for hazard analysis of financial systems.

\subsection{Design and Design Documentation}

\subsection{VnV Plan and Report}

\section{Challenge Level and Extras}

\subsection{Challenge Level: General}
The general challenge level comes from the integration of several complex components: a multi-group RBAC system, database interactions for real-time budget/request tracking, form handling with file uploads and OCR, automated notifications, and data visualization, all within a modern web framework. Ensuring data consistency, security, and a usable interface across different user roles presents a significant challenge. This must be done while maintaining stability and performance.

\subsection{Extras}
\begin{enumerate}
\item \textbf{Usability Testing} \
Conducted formal usability testing with 8 stakeholders (4 student leaders, 2 MES administrators, and 2 regular club members) to evaluate platform usability. Testing was performed remotely via screen sharing using a think-aloud protocol, with participants completing four core tasks: submitting a reimbursement request, tracking request status, approving requests (administrators only), and updating account information. Both quantitative metrics (task completion rates, time, ease-of-use ratings) and qualitative feedback were collected. The testing achieved an overall 96.9\% task completion rate with an average satisfaction score of 4.3/5. Key improvements implemented based on testing results included enhanced OCR feedback, improved payment method interface clarity, and identification of future enhancements for form layout optimization.
\item \textbf{User Documentation} \
Created comprehensive user documentation in the form of written guides and video tutorials that guide end-users through key tasks like submitting requests, managing budgets (for admins), and navigating the platform. This documentation serves different user roles within the system and provides step-by-step instructions for all critical workflows.
\item \textbf{User Guide Page} \
Implemented a dedicated help section directly within the application to provide contextual assistance and guidance for users as they navigate through different features of the platform. This integrated support system helps users understand complex processes and reduces the learning curve for new users.
\item \textbf{Demo/Instructional Video} \
Developed a comprehensive video demonstration of the system's functionality that serves both as a promotional tool and an instructional guide for new users to understand the workflow and features of the MES-ERP platform. The video covers all major user journeys and highlights the efficiency gains compared to the previous manual process.
\end{enumerate}

\section{Design Iteration (LO11 (PrototypeIterate))}

\plt{Explain how you arrived at your final design and implementation.  How did
the design evolve from the first version to the final version?} 

\plt{Don't just say what you changed, say why you changed it.  The needs of the
client should be part of the explanation.  For example, if you made changes in
response to usability testing, explain what the testing found and what changes
it led to.}

\section{Design Decisions (LO12)}

\plt{This section reflects on the key design choices made during the MES-ERP project, justifying them based on the project's constraints, assumptions, and limitations derived from requirements and analysis.}

Our design process aimed to create a robust, maintainable, and secure platform tailored to the MES's specific needs, while working within the constraints of a capstone project. Key decisions included:

\begin{itemize}
    \item \textbf{Technology Stack (Next.js, TypeScript, Supabase):}
        The choice of Next.js and TypeScript was initially guided by supervisor constraints for consistency with other MES projects, as noted in the Development Plan. However, this stack proved advantageous. Next.js provided a powerful framework for both frontend (React) and backend (API Routes), simplifying development. TypeScript offered static typing, crucial for catching errors early in a complex application involving financial data and intricate permissions. Supabase was selected as the Backend-as-a-Service (BaaS) platform. This significantly reduced the backend development overhead (database setup, authentication management, storage) allowing the team to focus on core application logic, fitting well within the project's time and budget constraints. The trade-off was a dependency on Supabase's infrastructure and potential limitations of its free/pro tiers.

    \item \textbf{Modular Architecture (Information Hiding - MG/MIS):}
        We adopted the principles of information hiding, decomposing the system into Hardware-Hiding (Database Interaction), Behaviour-Hiding (Core Features like Expense Submission, Approval Workflow), and Software Decision (Validation, GUI) modules, as documented in the Module Guide (MG) and specified in the Module Interface Specification (MIS). This decision was driven by the need for maintainability and adaptability. Anticipated changes, such as supporting new input formats (\texttt{AC\ref{acInput}}) or notification methods (\texttt{AC\ref{acNotifications}}), were encapsulated as module secrets, aiming to localize the impact of future modifications. This structured approach, while requiring upfront design effort, was deemed essential for a system intended for long-term use by the MES.

    \item \textbf{Role-Based Access Control (RBAC) Implementation:}
        The decision to implement a relatively complex RBAC system, supporting users belonging to multiple groups with potentially different roles in each, stemmed directly from the MES's organizational structure (many clubs with varying leadership roles). A simpler model (e.g., one user, one role) would not have accurately reflected the real-world requirements. We used junction tables (\texttt{user\_roles}, \texttt{group\_roles}, \texttt{role\_permissions}) in the database schema, a standard approach for modeling these many-to-many relationships. This design provided the necessary flexibility but increased implementation complexity, particularly in permission checking logic within the middleware, API routes, and frontend components (\texttt{usePermissions} hook). This complexity was a necessary trade-off for accurately modeling the domain.

    \item \textbf{Database Schema Design:}
        The schema, documented in \texttt{src/docs/DATABASE.md}, prioritized clear relationships between entities (users, groups, roles, requests, budgets). The use of junction tables for RBAC was crucial. The \texttt{operating\_budget\_lines} table provided a flexible structure for managing detailed budgets per group, separating allocated amounts from actual expenses derived from \texttt{payment\_requests}. This separation supported accurate tracking and reporting.

    \item \textbf{API Route Structure:}
        We utilized Next.js API routes for specific backend operations like sending notifications (\texttt{send-email-notif}, \texttt{send-sms-notif}) and updating user roles/groups (\texttt{update-role}, \texttt{update-group}). This kept backend logic separate from the frontend rendering, promoting cleaner code and easier testing of backend functionality.

    \item \textbf{External Service Integration (SendGrid, Tesseract.js):}
        Integrating external services like SendGrid for email notifications and Tesseract.js for OCR simplified development compared to building these features from scratch. This aligned with the project's constraints, allowing focus on core MES-specific workflows. The limitation is reliance on these services' availability and potential costs.

    \item \textbf{Assumption/Limitation Impact:}
        The assumption of reliable internet meant little effort was put into offline capabilities. The budget constraint influenced the choice of Supabase (generous free tier) and limited the scope of "stretch goals". The capstone timeline necessitated prioritizing core features over extensive performance optimization or advanced features like ML-based categorization initially. The design explicitly tried to accommodate anticipated changes (like reporting formats) by isolating related logic in specific modules (\texttt{M\ref{mReporting}}).
\end{itemize}

Overall, design decisions prioritized fulfilling core MES requirements, ensuring security and data integrity for financial operations, and promoting maintainability, while leveraging existing tools and services to meet project constraints.


\section{Economic Considerations (LO23)}

\plt{This section explores the potential market, costs, and economic viability of the MES-ERP platform, considering its current context and potential future paths.}

As a capstone project developed specifically for the McMaster Engineering Society (MES), the initial "market" is internal. However, the underlying problem – managing finances for multiple student clubs within a larger organization – is common across universities.

\begin{itemize}
    \item \textbf{Market Potential:}
        \begin{itemize}
            \item \textbf{Internal (MES):} The immediate user base consists of roughly 60 MES-affiliated clubs, MES executives, and financial administrators. Success here relies on adoption and usability.
            \item \textbf{McMaster Expansion:} Other student societies within McMaster (e.g., MSU clubs, Faculty societies) face similar challenges and could be potential users if the platform is adaptable.
            \item \textbf{External Universities:} Student unions/societies at other universities represent a larger potential market, though adaptation to different financial policies would be necessary.
        \end{itemize}

    \item \textbf{Marketing and User Attraction:}
        \begin{itemize}
            \item \textbf{MES Internal:} Promotion via MES communication channels, training sessions for club treasurers, and endorsements from MES executives. Ease of use and clear benefits over the old system (faster reimbursements, better tracking) are key selling points.
            \item \textbf{External/Open Source:} If generalized or open-sourced, marketing could involve presentations at student government conferences, articles in university tech forums, presence on GitHub, and potentially partnerships with university IT departments. Attracting users would depend on demonstrating clear advantages over generic tools (like spreadsheets) or commercial alternatives, ease of deployment, and good documentation.
        \end{itemize}

    \item \textbf{Production and Ongoing Costs:}
        \begin{itemize}
            \item \textbf{Initial Development Cost:} Primarily student labor within the capstone structure. The stated project budget was \$750, likely covering minor expenses (perhaps specific software tools or small service tiers). Estimating a commercial equivalent would involve multiplying development hours (estimated 400-500 in the VnV Report) by a junior/intermediate developer rate, resulting in tens of thousands of dollars.
            \item \textbf{Hosting \& Services:} Supabase offers a free tier, but scaling might require paid plans (\$25+/month). Vercel (for Next.js hosting) also has free/pro tiers. SendGrid and Twilio have usage-based pricing, likely low initially but scaling with notification volume. Domain name registration (around \$15/year). Total ongoing costs could range from \$0 (on free tiers with low usage) to \$50-\$100+/month depending on scale and features used.
            \item \textbf{Maintenance:} Requires ongoing effort for bug fixes, security updates, adapting to policy changes, and user support. This could be handled by future student volunteers, MES IT staff, or potentially paid contractors, representing a significant hidden cost.
        \end{itemize}

    \item \textbf{Pricing Model (If Commercialized/Generalized):}
        \begin{itemize}
            \item \textbf{Subscription:} A tiered annual subscription based on the number of clubs or users seems most plausible for university societies (e.g., \$500-\$2000/year per society).
            \item \textbf{Open Source + Support:} Offer the core platform as open source, charging for setup assistance, hosting, custom modifications, or premium support contracts.
        \end{itemize}

    \item \textbf{Sales Estimate / Break-Even:}
        Assuming ongoing costs of \$600/year (\$50/month) and needing to recoup an estimated \$30,000 commercial development cost over 3 years (\$10,000/year), the platform would need to generate \$10,600 annually. At a \$1000/year subscription, this requires roughly 11 paying student societies. Given the niche market, achieving significant profit seems challenging without broad adoption or a very lean maintenance model.

    \item \textbf{Potential Users:} Initially ~60 MES clubs + MES staff. Potentially hundreds of clubs within McMaster. Thousands across Canadian universities.
\end{itemize}

In conclusion, while MES-ERP addresses a real need for MES, its direct commercial viability is uncertain due to the niche market and the likely need for customization for other institutions. An open-source model with optional paid support or focusing on adoption within McMaster might be more realistic paths for broader impact beyond the initial MES deployment. The primary economic benefit for MES is the significant saving in administrative time and improved financial control compared to the previous manual system.

\section{Reflection on Project Management (LO24)}

\plt{This question focuses on processes and tools used for project management.}

\subsection{How Does Your Project Management Compare to Your Development Plan}

Our project management generally followed the Development Plan, but with some natural adaptations:

\begin{itemize}
    \item \textbf{Team Meeting Plan:} We adhered to the plan for regular team meetings (twice weekly initially, likely adjusting frequency later) and scheduled supervisor meetings (though one was missed by a member). Attendance, as tracked in contribution reports, was generally high for team meetings.
    \item \textbf{Team Communication Plan:} Discord was used as the primary informal communication channel, as planned. GitHub Issues were used for tracking tasks and feedback, although perhaps not as consistently for \textit{all} communication or discussion as initially intended. Merge conflicts and urgent issues were likely handled via Discord/calls.
    \item \textbf{Team Member Roles:} Initial roles (Meeting Chair, Notetaker, Reviewer, Leader, Helper) were defined. In practice, roles in small student teams often become more fluid, with members contributing across different areas based on need and expertise. The commit history suggests varying levels of contribution, which might indicate roles shifted or workloads weren't perfectly balanced despite the initial plan. The plan did include monthly reviews to adjust roles, but it's unclear if these formal reviews occurred.
    \item \textbf{Workflow Plan (Git, Issues, CI/CD):}
        \begin{itemize}
            \item \textbf{Git Usage:} The use of branches for features/bugfixes and Pull Requests (PRs) with peer review seems to have been implemented, based on standard practice and the presence of multiple contributors. Commit messages aimed for descriptiveness (mentioning Conventional Commits). Tags for releases may or may not have been consistently used.
            \item \textbf{Issue Management:} GitHub Issues were used, and templates were defined. The team contribution reports mention issues authored and assigned, indicating usage. The effectiveness depended on issue granularity and consistent tracking/closing.
            \item \textbf{CI/CD Implementation:} The planned CI/CD pipeline (Lint, Format, PDF Build, Unit Tests via GitHub Actions) was successfully implemented, as evidenced by the workflow files. This automated quality checks and documentation builds. Test coverage goals (90\%) were set, but the VnV report indicates actual automated coverage was lower, suggesting challenges in achieving this target.
        \end{itemize}
    \item \textbf{Technology:} The core technology stack (Next.js, TypeScript, Supabase, Shadcn UI, Tailwind, Jest) defined in the Development Plan was indeed used in the implementation.
\end{itemize}

\subsection{What Went Well?}

\begin{itemize}
  \item \textbf{Clear Initial Planning:} The Development Plan provided a good roadmap for roles, communication, and workflow.
  \item \textbf{Technology Stack Adoption:} The team successfully implemented the application using the chosen modern web technologies.
  \item \textbf{Version Control:} Effective use of Git and GitHub facilitated collaboration, code sharing, and tracking changes.
  \item \textbf{CI/CD Automation:} Implementing workflows for linting, formatting, testing, and PDF building automated crucial quality checks and saved manual effort.
  \item \textbf{Communication Channels:} Utilizing Discord for quick communication and GitHub Issues for task tracking generally worked well.
  \item \textbf{Regular Meetings:} Consistent team meetings helped maintain alignment and address roadblocks.
\end{itemize}

\subsection{What Went Wrong?}

\begin{itemize}
  \item \textbf{Uneven Workload/Contributions:} Commit history and team contribution reports indicate some members contributed significantly more code than others, suggesting potential workload imbalance or differing levels of engagement/availability.
  \item \textbf{Achieving Test Coverage Goals:} The ambitious 90\% automated test coverage target was not met, indicating challenges in writing comprehensive tests alongside feature development, possibly due to time constraints or complexity.
  \item \textbf{Initial Setup Friction:} Reflections mentioned initial difficulties with setting up development environments (e.g., LaTeX), causing early delays.
  \item \textbf{Strict Role Adherence:} Maintaining the initially defined, distinct roles might have been impractical; tasks likely required more cross-functional collaboration than the roles implied.
  \item \textbf{Meeting Scheduling:} Some scheduling conflicts occurred, leading to missed supervisor meetings or team building activities.
  \item \textbf{Issue Tracker Discipline:} While used, the consistency of using GitHub Issues for \textit{all} task tracking and discussion might have varied.
\end{itemize}

\subsection{What Would you Do Differently Next Time?}

\begin{itemize}
  \item \textbf{Proactive Workload Management:} Implement more explicit task breakdown and assignment during sprint planning. Use pair programming or focused work sessions to help members who might be falling behind or need assistance. Regularly check in on individual progress and offer support.
  \item \textbf{Integrate Testing Earlier and Continuously:} Write unit tests concurrently with feature development rather than potentially leaving it towards the end. Set more realistic, incremental coverage goals throughout the project lifecycle.
  \item \textbf{Improve Onboarding/Setup:} Create a more streamlined setup guide or utilize tools like Dev Containers to minimize initial environment configuration issues.
  \item \textbf{Flexible Roles:} Define roles more flexibly from the start, acknowledging that members will likely contribute across different areas. Emphasize shared responsibility.
  \item \textbf{Enhanced Issue Tracking:} Encourage more disciplined use of the issue tracker for all tasks, discussions, and decisions to improve traceability and transparency.
  \item \textbf{Better Time Estimation:} Factor in more buffer time for complex features (like RBAC) and for writing thorough tests.
\end{itemize}

\section{Reflection on Capstone}

\plt{This question focuses on what you learned during the course of the capstone project.}

\subsection{Which Courses Were Relevant}

\plt{Which of the courses you have taken were relevant for the capstone project?}

\subsection{Knowledge/Skills Outside of Courses}

\plt{What skills/knowledge did you need to acquire for your capstone project
that was outside of the courses you took?}

\end{document}
\documentclass{article}

\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{hyperref}

\title{Reflection and Traceability Report on \progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle

\plt{Reflection is an important component of getting the full benefits from a
learning experience.  Besides the intrinsic benefits of reflection, this
document will be used to help the TAs grade how well your team responded to
feedback.  Therefore, traceability between Revision 0 and Revision 1 is and
important part of the reflection exercise.  In addition, several CEAB (Canadian
Engineering Accreditation Board) Learning Outcomes (LOs) will be assessed based
on your reflections.}

\section{Changes in Response to Feedback}

\subsection{Changes in Response to Usability Testing}
The results concluded from the usability testing were thoroughly analyzed and taken into consideration when adding new changes to the final product. Various points of improvement were taken note of as well as numerous key changes to be made. These results can be seen in the \href{docs/UsabilityTesting/UsabilityTesting.pdf}{Usability Testing document}.
\subsection{SRS and Hazard Analysis}

\subsubsection{Changes Made to the SRS}


\subsubsection{Changes Made to the Hazard Analysis}

The document has been thoroughly revised to address feedback from a rubric. Here are the key changes:

\subsubsection{Document Structure Improvements}
\begin{itemize}
  \item Added Table of Contents, List of Tables, and List of Figures
  \item Improved document organization with appropriate page breaks
  \item Updated revision history table with current changes
  \item Added proper labels to Safety/Security Requirements (SSR-1, SSR-2, SSR-3)
\end{itemize}

\subsubsection{Content Enhancements}
\begin{enumerate}
  \item \textbf{Introduction \& Scope}:
  \begin{itemize}
    \item Refined hazard definitions specifically for MES-ERP financial operations
    \item Expanded scope to clearly include all system components (frontend, backend, database, auth)
    \item Added clearer document roadmap
  \end{itemize}

  \item \textbf{System Boundaries \& Components}:
  \begin{itemize}
    \item Added technology specifics (Supabase/PostgreSQL, Next.js/React)
    \item Enhanced hazard descriptions with concrete examples
    \item Added new hazards (race conditions, XSS vulnerabilities, session hijacking)
  \end{itemize}

  \item \textbf{Critical Assumptions}:
  \begin{itemize}
    \item Clarified existing assumptions
    \item Added a fifth assumption about security of underlying infrastructure
  \end{itemize}

  \item \textbf{FMEA Implementation}:
  \begin{itemize}
    \item Created a complete FMEA table with severity, occurrence, and detection ratings
    \item Calculated Risk Priority Numbers (RPN)
    \item Added specific mitigation strategies for each failure mode
    \item Cross-referenced Safety/Security Requirements
  \end{itemize}

  \item \textbf{Safety Requirements}:
  \begin{itemize}
    \item Added formal labels and improved descriptions
    \item Enhanced rationales for implementation
  \end{itemize}

  \item \textbf{Roadmap}:
  \begin{itemize}
    \item Improved immediate implementation items with technical specifics
    \item Added cross-references to SSRs
    \item Added new future implementation item (Security Penetration Testing)
  \end{itemize}
\end{enumerate}

\vspace{1em}
The revisions make the document more precise, technically detailed, and better aligned with software engineering best practices for hazard analysis.


All changes were made to address the rubric feedback, with special attention to improving the technical specificity of hazard descriptions, creating a proper FMEA analysis, and ensuring consistent cross-referencing between identified hazards and safety requirements. The revisions significantly enhanced the document's precision and alignment with software engineering best practices for hazard analysis of financial systems.

\subsection{Design and Design Documentation}

\subsection{VnV Plan and Report}

\section{Challenge Level and Extras}

\subsection{Challenge Level: General}
The general challenge level comes from the integration of several complex components: a multi-group RBAC system, database interactions for real-time budget/request tracking, form handling with file uploads and OCR, automated notifications, and data visualization, all within a modern web framework. Ensuring data consistency, security, and a usable interface across different user roles presents a significant challenge. This must be done while maintaining stability and performance.

\subsection{Extras}
\begin{enumerate}
\item \textbf{Usability Testing} \
Conducted formal usability testing with 8 stakeholders (4 student leaders, 2 MES administrators, and 2 regular club members) to evaluate platform usability. Testing was performed remotely via screen sharing using a think-aloud protocol, with participants completing four core tasks: submitting a reimbursement request, tracking request status, approving requests (administrators only), and updating account information. Both quantitative metrics (task completion rates, time, ease-of-use ratings) and qualitative feedback were collected. The testing achieved an overall 96.9\% task completion rate with an average satisfaction score of 4.3/5. Key improvements implemented based on testing results included enhanced OCR feedback, improved payment method interface clarity, and identification of future enhancements for form layout optimization.
\item \textbf{User Documentation} \
Created comprehensive user documentation in the form of written guides and video tutorials that guide end-users through key tasks like submitting requests, managing budgets (for admins), and navigating the platform. This documentation serves different user roles within the system and provides step-by-step instructions for all critical workflows.
\item \textbf{User Guide Page} \
Implemented a dedicated help section directly within the application to provide contextual assistance and guidance for users as they navigate through different features of the platform. This integrated support system helps users understand complex processes and reduces the learning curve for new users.
\item \textbf{Demo/Instructional Video} \
Developed a comprehensive video demonstration of the system's functionality that serves both as a promotional tool and an instructional guide for new users to understand the workflow and features of the MES-ERP platform. The video covers all major user journeys and highlights the efficiency gains compared to the previous manual process.
\end{enumerate}

\section{Design Iteration (LO11 (PrototypeIterate))}

\plt{Explain how you arrived at your final design and implementation.  How did
the design evolve from the first version to the final version?} 

\plt{Don't just say what you changed, say why you changed it.  The needs of the
client should be part of the explanation.  For example, if you made changes in
response to usability testing, explain what the testing found and what changes
it led to.}

\section{Design Decisions (LO12)}

\plt{This section reflects on the key design choices made during the MES-ERP project, justifying them based on the project's constraints, assumptions, and limitations derived from requirements and analysis.}

Our design process aimed to create a robust, maintainable, and secure platform tailored to the MES's specific needs, while working within the constraints of a capstone project. Key decisions included:

\begin{itemize}
    \item \textbf{Technology Stack (Next.js, TypeScript, Supabase):}
        The choice of Next.js and TypeScript was initially guided by supervisor constraints for consistency with other MES projects, as noted in the Development Plan. However, this stack proved advantageous. Next.js provided a powerful framework for both frontend (React) and backend (API Routes), simplifying development. TypeScript offered static typing, crucial for catching errors early in a complex application involving financial data and intricate permissions. Supabase was selected as the Backend-as-a-Service (BaaS) platform. This significantly reduced the backend development overhead (database setup, authentication management, storage) allowing the team to focus on core application logic, fitting well within the project's time and budget constraints. The trade-off was a dependency on Supabase's infrastructure and potential limitations of its free/pro tiers.

    \item \textbf{Modular Architecture (Information Hiding - MG/MIS):}
        We adopted the principles of information hiding, decomposing the system into Hardware-Hiding (Database Interaction), Behaviour-Hiding (Core Features like Expense Submission, Approval Workflow), and Software Decision (Validation, GUI) modules, as documented in the Module Guide (MG) and specified in the Module Interface Specification (MIS). This decision was driven by the need for maintainability and adaptability. Anticipated changes, such as supporting new input formats (\texttt{AC\ref{acInput}}) or notification methods (\texttt{AC\ref{acNotifications}}), were encapsulated as module secrets, aiming to localize the impact of future modifications. This structured approach, while requiring upfront design effort, was deemed essential for a system intended for long-term use by the MES.

    \item \textbf{Role-Based Access Control (RBAC) Implementation:}
        The decision to implement a relatively complex RBAC system, supporting users belonging to multiple groups with potentially different roles in each, stemmed directly from the MES's organizational structure (many clubs with varying leadership roles). A simpler model (e.g., one user, one role) would not have accurately reflected the real-world requirements. We used junction tables (\texttt{user\_roles}, \texttt{group\_roles}, \texttt{role\_permissions}) in the database schema, a standard approach for modeling these many-to-many relationships. This design provided the necessary flexibility but increased implementation complexity, particularly in permission checking logic within the middleware, API routes, and frontend components (\texttt{usePermissions} hook). This complexity was a necessary trade-off for accurately modeling the domain.

    \item \textbf{Database Schema Design:}
        The schema, documented in \texttt{src/docs/DATABASE.md}, prioritized clear relationships between entities (users, groups, roles, requests, budgets). The use of junction tables for RBAC was crucial. The \texttt{operating\_budget\_lines} table provided a flexible structure for managing detailed budgets per group, separating allocated amounts from actual expenses derived from \texttt{payment\_requests}. This separation supported accurate tracking and reporting.

    \item \textbf{API Route Structure:}
        We utilized Next.js API routes for specific backend operations like sending notifications (\texttt{send-email-notif}, \texttt{send-sms-notif}) and updating user roles/groups (\texttt{update-role}, \texttt{update-group}). This kept backend logic separate from the frontend rendering, promoting cleaner code and easier testing of backend functionality.

    \item \textbf{External Service Integration (SendGrid, Tesseract.js):}
        Integrating external services like SendGrid for email notifications and Tesseract.js for OCR simplified development compared to building these features from scratch. This aligned with the project's constraints, allowing focus on core MES-specific workflows. The limitation is reliance on these services' availability and potential costs.

    \item \textbf{Assumption/Limitation Impact:}
        The assumption of reliable internet meant little effort was put into offline capabilities. The budget constraint influenced the choice of Supabase (generous free tier) and limited the scope of "stretch goals". The capstone timeline necessitated prioritizing core features over extensive performance optimization or advanced features like ML-based categorization initially. The design explicitly tried to accommodate anticipated changes (like reporting formats) by isolating related logic in specific modules (\texttt{M\ref{mReporting}}).
\end{itemize}

Overall, design decisions prioritized fulfilling core MES requirements, ensuring security and data integrity for financial operations, and promoting maintainability, while leveraging existing tools and services to meet project constraints.


\section{Economic Considerations (LO23)}

\plt{Is there a market for your product? What would be involved in marketing your 
product? What is your estimate of the cost to produce a version that you could 
sell?  What would you charge for your product?  How many units would you have to 
sell to make money? If your product isn't something that would be sold, like an 
open source project, how would you go about attracting users?  How many potential 
users currently exist?}

\section{Reflection on Project Management (LO24)}

\plt{This question focuses on processes and tools used for project management.}

\subsection{How Does Your Project Management Compare to Your Development Plan}

\plt{Did you follow your Development plan, with respect to the team meeting plan, 
team communication plan, team member roles and workflow plan.  Did you use the 
technology you planned on using?}

\subsection{What Went Well?}

\plt{What went well for your project management in terms of processes and 
technology?}

\subsection{What Went Wrong?}

\plt{What went wrong in terms of processes and technology?}

\subsection{What Would you Do Differently Next Time?}

\plt{What will you do differently for your next project?}

\section{Reflection on Capstone}

\plt{This question focuses on what you learned during the course of the capstone project.}

\subsection{Which Courses Were Relevant}

\plt{Which of the courses you have taken were relevant for the capstone project?}

\subsection{Knowledge/Skills Outside of Courses}

\plt{What skills/knowledge did you need to acquire for your capstone project
that was outside of the courses you took?}

\end{document}